{"version":3,"sources":["assets/imgs/logo.svg","firebase.js","components/Home.jsx","components/ControlPanel.jsx","components/Login.jsx","components/Admin.jsx","components/App.jsx","index.js"],"names":["module","exports","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","useFirebase","firebase","initializeApp","this","auth","db","firestore","email","password","signInWithEmailAndPassword","signOut","callback","onAuthStateChanged","authUser","useFirebaseAuth","useState","setAuthUser","useEffect","unlisten","isLoggedIn","useStyles","makeStyles","theme","container","display","flexFlow","width","justifyContent","alignItems","margin","button","spacing","textTransform","Home","categories","countries","classes","console","log","className","Button","variant","fullWidth","onClick","logOut","ControlPanel","logo","height","title","marginBottom","textField","flex","input","loginMsg","marginTop","textAlign","Login","avatarImg","require","setEmail","pw","setPw","noValidate","autoComplete","Avatar","alt","src","Typography","TextField","id","label","value","onChange","e","target","type","login","catch","err","message","ListItem","ListItemText","primary","Admin","appbar","toolbar","newsBtn","loginBtn","App","CssBaseline","AppBar","position","color","Toolbar","key","component","NavLink","exact","to","path","render","FirebaseContext","createContext","ReactDOM","props","Provider","children","document","getElementById"],"mappings":"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","file":"static/js/main.8a04cb55.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","import { useState, useEffect } from 'react'\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\n\r\nconst config = {\r\n  apiKey: `${process.env.REACT_APP_FIREBASE_API_KEY}`,\r\n  authDomain: 'news-4ef12.firebaseapp.com',\r\n  databaseURL: 'https://news-4ef12.firebaseio.com',\r\n  projectId: 'news-4ef12',\r\n  storageBucket: 'news-4ef12.appspot.com',\r\n  messagingSenderId: '890937201506',\r\n  appId: `${process.env.REACT_APP_FIREBASE_APPID}`,\r\n  measurementId: 'G-2QYDG5TDTW',\r\n}\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    firebase.initializeApp(config)\r\n    this.auth = firebase.auth()\r\n    this.db = firebase.firestore()\r\n  }\r\n\r\n  login(email, password) {\r\n    return this.auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  logOut() {\r\n    return this.auth.signOut()\r\n  }\r\n\r\n  isLoggedIn(callback) {\r\n    return this.auth.onAuthStateChanged(authUser => {\r\n      authUser ? callback(authUser) : callback(null)\r\n    })\r\n  }\r\n\r\n  // getSettings() {\r\n  //   return this.db.\r\n  // }\r\n\r\n  // saveSettings() {\r\n  //   return this.db.\r\n  // }\r\n}\r\n\r\nconst useFirebase = new Firebase()\r\n\r\nconst useFirebaseAuth = firebase => {\r\n  const [authUser, setAuthUser] = useState(null)\r\n  useEffect(() => {\r\n    const unlisten = firebase.isLoggedIn(setAuthUser)\r\n    return () => unlisten()\r\n  }, [firebase])\r\n  return authUser\r\n}\r\n\r\nexport { useFirebase, useFirebaseAuth }\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { makeStyles, Button } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { useFirebase } from '../firebase'\r\nimport { FirebaseContext } from '../index'\r\n\r\n// Get admin settings from firestore first,\r\n// then get news data based on that settings.\r\n// Guests can change settings, but once they leave or refresh\r\n// settings will reset (change back to admin's setting).\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    width: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: 'auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    textTransform: 'none',\r\n    width: 300,\r\n  },\r\n}))\r\n\r\nfunction Home({\r\n  categories = [\r\n    'business',\r\n    'entertainment',\r\n    'general',\r\n    'health',\r\n    'science',\r\n    'sports',\r\n    'technology',\r\n  ],\r\n  countries = [],\r\n}) {\r\n  // const firebase = useContext(FirebaseContext)\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    console.log('Home here!')\r\n  }, [])\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <h1>Home(Public)</h1>\r\n      <p>A-Z of news titles</p>\r\n      <p>Latest to Oldest published dates</p>\r\n      <p>Publishers</p>\r\n      <p>Countries</p>\r\n      <p>Categories</p>\r\n      <div>\r\n        <Button\r\n          className={classes.button}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          onClick={() => useFirebase.logOut()}\r\n        >\r\n          Log Out\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { makeStyles, Button } from '@material-ui/core'\r\nimport { useFirebase } from '../firebase'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    width: 300,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: 'auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    textTransform: 'none',\r\n    width: 300,\r\n  },\r\n}))\r\n\r\nfunction ControlPanel() {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.container}>\r\n      <p>Control Panel</p>\r\n      <p>Publishers</p>\r\n      <p>Countries</p>\r\n      <p>Categories</p>\r\n      <Button\r\n        className={classes.button}\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        onClick={() => console.log('saved!')}\r\n      >\r\n        {/* onClick={() => useFirebase.saveSettings()} */}\r\n        Save\r\n      </Button>\r\n      <Button\r\n        className={classes.button}\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        onClick={() => useFirebase.logOut()}\r\n      >\r\n        Log Out\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ControlPanel\r\n","import React, { useState } from 'react'\r\nimport {\r\n  makeStyles,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  ListItem,\r\n  ListItemText,\r\n  Avatar,\r\n} from '@material-ui/core'\r\nimport { useFirebase } from '../firebase'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    width: 300,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: 'auto',\r\n  },\r\n  logo: {\r\n    margin: 10,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    margin: theme.spacing(1),\r\n    flex: '1 1 auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    flex: '1 1 auto',\r\n    textTransform: 'none',\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n  loginMsg: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nfunction Login() {\r\n  const classes = useStyles()\r\n  const avatarImg = require('../assets/imgs/logo.svg')\r\n  const loginMsg = 'Only administrator allow to login.'\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [pw, setPw] = useState('')\r\n\r\n  return (\r\n    <form className={classes.container} noValidate autoComplete=\"off\">\r\n      <Avatar alt=\"News\" src={avatarImg} className={classes.logo} />\r\n      <Typography className={classes.title} variant=\"h6\">\r\n        Login\r\n      </Typography>\r\n      <TextField\r\n        id=\"outlined-basic\"\r\n        className={classes.textField}\r\n        label=\"Email\"\r\n        margin=\"normal\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        value={email}\r\n        onChange={e => setEmail(e.target.value)}\r\n      />\r\n      <TextField\r\n        id=\"outlined-password-input\"\r\n        label=\"Password\"\r\n        className={classes.textField}\r\n        type=\"password\"\r\n        autoComplete=\"current-password\"\r\n        margin=\"normal\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        value={pw}\r\n        onChange={e => setPw(e.target.value)}\r\n      />\r\n      <Button\r\n        variant=\"outlined\"\r\n        className={classes.button}\r\n        fullWidth\r\n        onClick={() => {\r\n          useFirebase.login(email, pw).catch(err => console.log(err.message))\r\n        }}\r\n      >\r\n        Login\r\n      </Button>\r\n      <ListItem className={classes.loginMsg}>\r\n        <ListItemText primary={loginMsg} />\r\n      </ListItem>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { useFirebase, useFirebaseAuth } from '../firebase'\r\nimport ControlPanel from './ControlPanel'\r\nimport Login from './Login'\r\n\r\nfunction Admin() {\r\n  const authUser = useFirebaseAuth(useFirebase)\r\n  return authUser ? <ControlPanel /> : <Login />\r\n}\r\n\r\nexport default Admin\r\n","import React, { useEffect } from 'react'\r\nimport { BrowserRouter as Router, Route, NavLink } from 'react-router-dom'\r\nimport { CssBaseline, makeStyles, AppBar, Toolbar, ListItem, ListItemText } from '@material-ui/core'\r\nimport Home from './Home'\r\nimport Admin from './Admin'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appbar: {\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n  toolbar: {\r\n    justifyContent: 'space-between',\r\n  },\r\n  newsBtn: {\r\n    flex: '0 0 60px',\r\n  },\r\n  loginBtn: {\r\n    flex: '0 0 60px',\r\n  },\r\n}))\r\n\r\nfunction App() {\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    console.log('yooo')\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <Router>\r\n        <AppBar position=\"static\" color=\"inherit\" className={classes.appbar}>\r\n          <Toolbar className={classes.toolbar}>\r\n            <ListItem\r\n              className={classes.newsBtn}\r\n              button\r\n              key=\"News\"\r\n              component={NavLink}\r\n              exact\r\n              to=\"/\"\r\n            >\r\n              <ListItemText primary=\"News\" />\r\n            </ListItem>\r\n            <ListItem\r\n              className={classes.loginBtn}\r\n              button\r\n              key=\"Login\"\r\n              component={NavLink}\r\n              to=\"/admin\"\r\n            >\r\n              <ListItemText primary=\"Admin\" />\r\n            </ListItem>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Route exact path=\"/\" render={() => <Home />} />\r\n        <Route path=\"/admin\" render={() => <Admin />} />\r\n      </Router>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React, { createContext } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { useFirebase } from './firebase'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nconst FirebaseContext = createContext()\r\nconst FirebaseProvider = props => (\r\n  <FirebaseContext.Provider value={useFirebase}>{props.children}</FirebaseContext.Provider>\r\n)\r\n\r\nReactDOM.render(\r\n  <FirebaseProvider>\r\n    <App />\r\n  </FirebaseProvider>,\r\n  document.getElementById('root')\r\n)\r\n\r\nexport { FirebaseContext }\r\n"],"sourceRoot":""}