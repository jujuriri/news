(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(24),l=a.n(i),u=a(38),s=a(8),m=a(43),d=a.n(m),p=Object(n.createContext)(),f=Object(n.createContext)(),g=a(72),b=a(73),h=a(49),v=a.n(h),y=(a(106),a(108),{apiKey:"".concat("AIzaSyBLlGiCXgza91XEF7xXofhcgs1TlmHFYLQ"),authDomain:"news-4ef12.firebaseapp.com",databaseURL:"https://news-4ef12.firebaseio.com",projectId:"news-4ef12",storageBucket:"news-4ef12.appspot.com",messagingSenderId:"890937201506",appId:"".concat("1:890937201506:web:4c53217d4dfa934020923b"),measurementId:"G-2QYDG5TDTW"}),E=new(function(){function e(){Object(g.a)(this,e),v.a.initializeApp(y),this.auth=v.a.auth(),this.db=v.a.firestore()}return Object(b.a)(e,[{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"logOut",value:function(){return this.auth.signOut()}},{key:"isLoggedIn",value:function(e){return this.auth.onAuthStateChanged((function(t){e(t||null)}))}},{key:"getSettings",value:function(){return this.db.collection("settings").doc("options").get()}},{key:"saveSettings",value:function(e){return this.db.collection("settings").doc("options").set(e)}}]),e}()),j=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=e.isLoggedIn(c);return function(){return t()}}),[e]),r},w=function(e){var t=e.children,a=Object(n.useState)({}),c=Object(s.a)(a,2),o=c[0],i=c[1],m=Object(n.useState)({}),g=Object(s.a)(m,2),b=g[0],h=g[1],v=Object(n.useState)({}),y=Object(s.a)(v,2),j=y[0],w=y[1],O=Object(n.useState)(""),C=Object(s.a)(O,2),x=C[0],S=C[1],N=Object(n.useState)(""),k=Object(s.a)(N,2),P=k[0],I=k[1],A=Object(n.useState)(""),T=Object(s.a)(A,2),B=T[0],F=T[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()("https://newsapi.org/v2/sources?apiKey=".concat("3c44d2e5c78b40e390758064d60eee87"));case 2:t=e.sent,a=new Set(["business","entertainment","general","health","science","sports","technology"]),n=new Set([{code:"ae",name:"United Arab Emirates"},{code:"ar",name:"Argentina"},{code:"at",name:"Austria"},{code:"au",name:"Australia"},{code:"be",name:"Belgium"},{code:"bg",name:"Bulgaria"},{code:"br",name:"Brazil"},{code:"ca",name:"Canada"},{code:"ch",name:"Switzerland"},{code:"cn",name:"China"},{code:"co",name:"Colombia"},{code:"cu",name:"Cuba"},{code:"cz",name:"Czech Republic"},{code:"de",name:"Germany"},{code:"eg",name:"Egypt"},{code:"fr",name:"France"},{code:"gb",name:"United Kingdom"},{code:"gr",name:"Greece"},{code:"hk",name:"Hong Kong"},{code:"hu",name:"Hungary"},{code:"id",name:"Indonesia"},{code:"ie",name:"Ireland"},{code:"il",name:"Israel"},{code:"in",name:"India"},{code:"it",name:"Italy"},{code:"jp",name:"Japan"},{code:"kr",name:"Korea"},{code:"lt",name:"Lithuania"},{code:"lv",name:"Latvia"},{code:"ma",name:"Morocco"},{code:"mx",name:"Mexico"},{code:"my",name:"Malaysia"},{code:"ng",name:"Nigeria"},{code:"nl",name:"Netherlands"},{code:"no",name:"Norway"},{code:"nz",name:"New Zealand"},{code:"ph",name:"Philippines"},{code:"pl",name:"Poland"},{code:"pt",name:"Portugal"},{code:"ro",name:"Romania"},{code:"rs",name:"Serbia"},{code:"ru",name:"Russian Federation"},{code:"sa",name:"Saudi Arabia"},{code:"se",name:"Sweden"},{code:"sg",name:"Singapore"},{code:"si",name:"Slovenia"},{code:"sk",name:"Slovakia"},{code:"th",name:"Thailand"},{code:"tr",name:"Turkey"},{code:"tw",name:"Taiwan"},{code:"ua",name:"Ukraine"},{code:"us",name:"United States"},{code:"ve",name:"Venezuela"},{code:"za",name:"South Africa"}]),r=new Set(t.data.sources.map((function(e){return{name:e.name,id:e.id}}))),w(a),i(n),h(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getSettings();case 2:t=e.sent,console.log("getFirestore: Settings got at Provider \u2192",t.data()),S(t.data().country),I(t.data().publisher),F(t.data().category);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]);var z=p.Provider,L=f.Provider;return r.a.createElement(L,{value:{adminCountry:x,adminPublisher:P,adminCategory:B}},r.a.createElement(z,{value:{countries:o,publishers:b,categories:j}},t))},O=a(50),C=a(30),x=a(74),S=a(171),N=a(160),k=a(172),P=a(120),I=a(170),A=a(51),T=a(173),B=a(159),F=Object(x.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},appbar:{boxShadow:"unset"}}})),z=function(e){var t=e.children,a=e.value,n=e.idx;return r.a.createElement(A.a,{component:"div",role:"tabpanel",hidden:a!==n},t)},L=function(e){for(var t=e.children,a=F(),n=r.a.useState(0),c=Object(s.a)(n,2),o=c[0],i=c[1],l=[],u=[],m=0;m<t.length;m+=1)l.push(r.a.createElement(B.a,{label:"".concat(t[m].props.readBy),key:"Tab-".concat(t[m].props.readBy)})),u.push(r.a.createElement(z,{value:o,idx:m,key:"TabPanel-".concat(t[m].props.readBy)},t[m]));return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{position:"static",color:"default",className:a.appbar},r.a.createElement(T.a,{value:o,onChange:function(e,t){i(t)},variant:"scrollable",scrollButtons:"auto"},l)),u)},W=a(117),H=a(126),U=a(122),K=a(161),R=a(121),G=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),M=function(e){var t=e.name,a=e.options,c=e.changeHandler,o=e.selected,i=G(),l=Object(n.useRef)(null),u=Object(n.useState)(0),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),b=g[0],h=g[1];Object(n.useEffect)((function(){p(l.current.offsetWidth),console.log("inputLabel \u5bec",l.current.offsetWidth,l)}),[]);return r.a.createElement(W.a,{variant:"outlined",className:i.formControl,error:b},r.a.createElement(H.a,{ref:l,id:"demo-simple-select-outlined-label"},t),r.a.createElement(U.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:o,onChange:function(e){return function(e){c(e.target.value),""===e.target.value?h(!0):h(!1)}(e)},labelWidth:d},r.a.createElement(K.a,{value:""},r.a.createElement("em",null,"None")),Array.from(a).map((function(e,t){return e.name?r.a.createElement(K.a,{key:"option-".concat(t),value:e.name},e.name):r.a.createElement(K.a,{key:"option-".concat(t),value:e},e)}))),b&&r.a.createElement(R.a,null,"Required."))},D=Object(x.a)((function(e){return{mansory:{display:"flex",margin:"auto",flexFlow:"row nowrap",justifyContent:"center",alignItems:"flex-start"}}})),J=function(e){for(var t=e.colNum,a=e.children,n=D(),c={},o=[],i=0;i<t;i+=1)c["col".concat(i)]=[];for(var l=0;l<a.length;l+=1){c["col".concat(l%t)].push(a[l])}for(var u=0;u<3;u+=1)o.push(r.a.createElement("div",{key:"col-".concat(u)},c["col".concat(u)]));return r.a.createElement("div",{className:n.mansory},o)};J.defaultProps={colNum:3};var X=J,Q=a(162),V=a(163),Y=a(164),q=a(165),Z=a(166),$=a(167),_=Object(x.a)((function(e){return{card:{margin:e.spacing(1,1,2,1),width:"100%",maxWidth:300}}})),ee=function(e){var t=e.imgUrl,a=e.newsTitle,n=e.newsSummary,c=e.publishedAt,o=e.sourceName,i=_();return r.a.createElement(Q.a,{className:i.card},r.a.createElement(V.a,null,r.a.createElement(Y.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:t,title:a}),r.a.createElement(q.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p"},n))),r.a.createElement(Z.a,null,r.a.createElement($.a,{size:"small",color:"primary"},c),r.a.createElement($.a,{size:"small",color:"primary"},o)))};ee.defaultProps={imgUrl:"https://source.unsplash.com/random/300x400",newsTitle:"I am a news title",newsSummary:"I am a news summary",publishedAt:"0000/00/00 00:00",sourceName:"jujuriri"};var te=ee,ae=function(e){var t=e.readBy,a=Object(n.useContext)(p),c=Object(n.useContext)(f),o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],g=i[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),v=h[0],y=h[1],E=Object(n.useState)(""),j=Object(s.a)(E,2),w=j[0],O=j[1],C=Object(n.useState)([]),x=Object(s.a)(C,2),S=x[0],N=x[1],k=Object(n.useState)([]),P=Object(s.a)(k,2),I=P[0],A=P[1];Object(n.useEffect)((function(){console.log("NewsPaper here.")}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(a.countries).filter((function(e){return e.name===t})).map((function(e){return e.code})),e.next=3,d()("https://newsapi.org/v2/top-headlines?apiKey=".concat("3c44d2e5c78b40e390758064d60eee87"),{params:{country:r,category:n}});case 3:c=e.sent,N(c.data.articles);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(a.publishers).filter((function(e){return e.name===t})).map((function(e){return e.id})),e.next=3,d()("https://newsapi.org/v2/top-headlines?apiKey=".concat("3c44d2e5c78b40e390758064d60eee87"),{params:{sources:n}});case 3:r=e.sent,A(r.data.articles);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();""!==c.adminCountry&&""!==c.adminCategory&&"Country and Category"===t?e(c.adminCountry,c.adminCategory):""!==c.adminPublisher&&"Publisher"===t&&n(c.adminPublisher)}),[c.adminCategory,c.adminCountry,c.adminPublisher,a.countries,a.publishers,t]);return r.a.createElement("div",null,"Country and Category"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{name:"Country",options:a.countries,selected:m,changeHandler:function(e){return g(e)}}),r.a.createElement(M,{name:"Category",options:a.categories,selected:v,changeHandler:function(e){return y(e)}}),r.a.createElement(X,null,S.map((function(e,t){return r.a.createElement(te,{key:"NewsCard-CC-".concat(t),imgUrl:(a=e.urlToImage,a||"https://source.unsplash.com/random/300x400"),newsTitle:e.title,newsSummary:e.description,publishedAt:e.publishedAt,sourceName:e.source.name});var a})))),"Publisher"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{name:"Publisher",options:a.publishers,selected:w,changeHandler:function(e){return O(e)}}),r.a.createElement(X,null,I.map((function(e,t){return r.a.createElement(te,{key:"NewsCard-P-".concat(t),imgUrl:e.urlToImage,newsTitle:e.title,newsSummary:e.description,publishedAt:e.publishedAt,sourceName:e.source.name})})))))},ne=Object(x.a)((function(e){return{container:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center",margin:"auto"},button:{margin:e.spacing(1),textTransform:"none",width:100}}})),re=function(){var e=ne();return Object(n.useEffect)((function(){console.log("Home here!")}),[]),r.a.createElement("div",{className:e.container},r.a.createElement(L,null,["Country and Category","Publisher"].map((function(e){return r.a.createElement(ae,{readBy:e,key:"NewsPaper-".concat(e)})}))))},ce=Object(x.a)((function(e){return{container:{display:"flex",flexFlow:"column",width:300,justifyContent:"center",alignItems:"center",margin:"auto"},button:{margin:e.spacing(1),textTransform:"none",width:300}}}));var oe=function(){var e=ce(),t=Object(n.useContext)(p),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),m=u[0],d=u[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),b=g[0],h=g[1];return r.a.createElement("div",{className:e.container},r.a.createElement("p",null,"Control Panel"),r.a.createElement(M,{name:"Publisher",options:t.publishers,selected:m,changeHandler:function(e){d(e)}}),r.a.createElement(M,{name:"Country",options:t.countries,selected:o,changeHandler:function(e){i(e)}}),r.a.createElement(M,{name:"Category",options:t.categories,selected:b,changeHandler:function(e){h(e)}}),r.a.createElement($.a,{className:e.button,variant:"outlined",fullWidth:!0,onClick:function(){var e={category:b,publisher:m,country:o};E.saveSettings(e).then(console.log("options has been saved!")).catch((function(e){return console.log(e)})),h(""),i(""),d("")}},"Save"),r.a.createElement($.a,{className:e.button,variant:"outlined",fullWidth:!0,onClick:function(){return E.logOut()}},"Log Out"))},ie=a(168),le=a(169),ue=a(76),se=a.n(ue),me=Object(x.a)((function(e){return{container:{display:"flex",flexFlow:"column",width:300,justifyContent:"center",alignItems:"center",margin:"auto"},logo:{margin:10,width:60,height:60},title:{marginBottom:e.spacing(1)},textField:{margin:e.spacing(1),flex:"1 1 auto"},button:{margin:e.spacing(1),flex:"1 1 auto",textTransform:"none"},input:{display:"none"},loginMsg:{marginTop:e.spacing(1),textAlign:"center"}}}));var de=function(){var e=me(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(s.a)(i,2),u=l[0],m=l[1];return r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},r.a.createElement(ie.a,{alt:"News",src:se.a,className:e.logo}),r.a.createElement(A.a,{className:e.title,variant:"h6"},"Login"),r.a.createElement(le.a,{id:"outlined-basic",className:e.textField,label:"Email",margin:"normal",variant:"outlined",fullWidth:!0,value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(le.a,{id:"outlined-password-input",label:"Password",className:e.textField,type:"password",autoComplete:"current-password",margin:"normal",variant:"outlined",fullWidth:!0,value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement($.a,{variant:"outlined",className:e.button,fullWidth:!0,onClick:function(){E.login(c,u).catch((function(e){return console.log(e.message)}))}},"Login"),r.a.createElement(P.a,{className:e.loginMsg},r.a.createElement(I.a,{primary:"Only administrator allow to login."})))};var pe=function(){return j(E)?r.a.createElement(oe,null):r.a.createElement(de,null)},fe=Object(x.a)((function(e){return{appbar:{boxShadow:"unset"},toolbar:{justifyContent:"space-between"},newsBtn:{flex:"0 0 60px"},loginBtn:{flex:"0 0 60px"}}}));var ge=function(){var e=fe();return Object(n.useEffect)((function(){console.log("App here!")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null),r.a.createElement(O.a,null,r.a.createElement(N.a,{position:"static",color:"inherit",className:e.appbar},r.a.createElement(k.a,{className:e.toolbar},r.a.createElement(P.a,{className:e.newsBtn,button:!0,key:"News",component:O.b,exact:!0,to:"/"},r.a.createElement(I.a,{primary:"News"})),r.a.createElement(P.a,{className:e.loginBtn,button:!0,key:"Login",component:O.b,to:"/admin"},r.a.createElement(I.a,{primary:"Admin"})))),r.a.createElement(C.a,{exact:!0,path:"/",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(C.a,{path:"/admin",render:function(){return r.a.createElement(pe,null)}})))};a(115);o.a.render(r.a.createElement(w,null,r.a.createElement(ge,null)),document.getElementById("root"))},76:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},84:function(e,t,a){e.exports=a(116)}},[[84,1,2]]]);
//# sourceMappingURL=main.07265d6b.chunk.js.map