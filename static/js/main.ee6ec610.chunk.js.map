{"version":3,"sources":["context/context.js","firebase.js","context/Provider.jsx","customHooks.js","components/Selector.jsx","components/Masonry.jsx","components/NewsCard.jsx","components/SortByBtns.jsx","components/NewsPaper.jsx","components/Home.jsx","components/ControlPanel.jsx","components/Login.jsx","components/Admin.jsx","components/App.jsx","index.js","assets/imgs/logo.svg"],"names":["NewsContext","createContext","FirestoreContext","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","useFirebase","firebase","initializeApp","this","auth","db","firestore","email","password","signInWithEmailAndPassword","signOut","callback","onAuthStateChanged","authUser","collection","doc","get","settings","set","Provider","children","useState","countries","setCountries","publishers","setPublishers","categories","setCategories","adminCountry","setAdminCountry","adminPublisher","setAdminPublisher","adminCategory","setAdminCategory","useEffect","getOptions","a","axios","res","categoriesSet","Set","countriesSet","code","name","publishersSet","data","sources","map","source","id","getFiresotre","getSettings","console","log","country","publisher","category","NewsProvider","FirestoreProvider","value","useFirebaseAuth","myFirebase","setAuthUser","unlisten","isLoggedIn","usePrevious","ref","useRef","current","useStyles","makeStyles","theme","formControl","margin","spacing","minWidth","selectEmpty","marginTop","Selector","options","changeHandler","selected","classes","inputLabel","labelWidth","setLabelWidth","hasErr","setHasErr","offsetWidth","FormControl","variant","className","error","InputLabel","Select","labelId","onChange","e","target","selectValid","MenuItem","Array","from","option","i","key","FormHelperText","mansory","display","flexFlow","justifyContent","alignItems","mansoryCols","flex","Masonry","colNum","cols","arranged","length","push","card","width","maxWidth","NewsCard","imgUrl","newsTitle","newsSummary","publishedAt","sourceName","Card","CardActionArea","CardMedia","component","alt","height","image","title","CardContent","Typography","gutterBottom","color","CardActions","Button","size","defaultProps","SortByBtns","newsPaper","padding","NewsPaper","readBy","news","useContext","isAdminSetting","setIsAdminSetting","selectedCtry","setSelectedCtry","selectedCat","setSelectedCat","selectedPubl","setSelectedPubl","isCtryCatLaoding","setIsCtryCatLoading","isPublLaoding","setIsPublLoading","newsListCtryCat","setNewsListCtryCat","newsListPubl","setNewsListPubl","windowWidth","window","innerWidth","setWidth","handleResize","addEventListener","removeEventListener","useWindowWidth","setColNum","prevSelectedCtry","prevSelectedCat","prevSelectedPubl","getNewsCtryCat","ctry","cat","pageNum","ctryCode","filter","params","page","articles","getNewsPubl","publ","sourceId","n","urlToImage","description","container","button","textTransform","Home","setReadBy","location","useLocation","pathname","ControlPanel","fullWidth","onClick","admin","saveSettings","then","catch","err","logOut","logo","marginBottom","textField","input","loginMsg","textAlign","Login","setEmail","pw","setPw","noValidate","autoComplete","Avatar","src","avatarImg","TextField","label","type","login","message","ListItem","ListItemText","primary","Admin","appbar","boxShadow","toolbar","alignSelf","logoBtn","fontWeight","fontFamily","cursor","fontSize","navBtn","whiteSpace","borderRadius","loginBtn","border","App","CssBaseline","AppBar","position","Toolbar","NavLink","exact","to","path","render","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.ee6ec610.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport const NewsContext = createContext()\r\nexport const FirestoreContext = createContext()\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\n\r\nconst config = {\r\n  apiKey: `${process.env.REACT_APP_FIREBASE_API_KEY}`,\r\n  authDomain: 'news-4ef12.firebaseapp.com',\r\n  databaseURL: 'https://news-4ef12.firebaseio.com',\r\n  projectId: 'news-4ef12',\r\n  storageBucket: 'news-4ef12.appspot.com',\r\n  messagingSenderId: '890937201506',\r\n  appId: `${process.env.REACT_APP_FIREBASE_APPID}`,\r\n  measurementId: 'G-2QYDG5TDTW',\r\n}\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    firebase.initializeApp(config)\r\n    this.auth = firebase.auth()\r\n    this.db = firebase.firestore()\r\n  }\r\n\r\n  login(email, password) {\r\n    return this.auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  logOut() {\r\n    return this.auth.signOut()\r\n  }\r\n\r\n  isLoggedIn(callback) {\r\n    return this.auth.onAuthStateChanged(authUser => {\r\n      authUser ? callback(authUser) : callback(null)\r\n    })\r\n  }\r\n\r\n  getSettings() {\r\n    return this.db\r\n      .collection('settings')\r\n      .doc('options')\r\n      .get()\r\n  }\r\n\r\n  saveSettings(settings) {\r\n    return this.db\r\n      .collection('settings')\r\n      .doc('options')\r\n      .set(settings)\r\n  }\r\n}\r\n\r\nconst useFirebase = new Firebase()\r\n\r\nexport default useFirebase\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\nimport { NewsContext, FirestoreContext } from './context'\r\nimport useFirebase from '../firebase'\r\n\r\nconst Provider = ({ children }) => {\r\n  const [countries, setCountries] = useState({})\r\n  const [publishers, setPublishers] = useState({})\r\n  const [categories, setCategories] = useState({})\r\n  const [adminCountry, setAdminCountry] = useState('')\r\n  const [adminPublisher, setAdminPublisher] = useState('')\r\n  const [adminCategory, setAdminCategory] = useState('')\r\n\r\n  useEffect(() => {\r\n    // Fetch data from News API (/source), just for displaying options of selectors.\r\n    const getOptions = async () => {\r\n      const res = await axios(\r\n        `https://newsapi.org/v2/sources?apiKey=${process.env.REACT_APP_NEWS_API_KEY}`\r\n      )\r\n      const categoriesSet = new Set([\r\n        'business',\r\n        'entertainment',\r\n        'general',\r\n        'health',\r\n        'science',\r\n        'sports',\r\n        'technology',\r\n      ])\r\n      const countriesSet = new Set([\r\n        { code: 'ae', name: 'United Arab Emirates' },\r\n        { code: 'ar', name: 'Argentina' },\r\n        { code: 'at', name: 'Austria' },\r\n        { code: 'au', name: 'Australia' },\r\n        { code: 'be', name: 'Belgium' },\r\n        { code: 'bg', name: 'Bulgaria' },\r\n        { code: 'br', name: 'Brazil' },\r\n        { code: 'ca', name: 'Canada' },\r\n        { code: 'ch', name: 'Switzerland' },\r\n        { code: 'cn', name: 'China' },\r\n        { code: 'co', name: 'Colombia' },\r\n        { code: 'cu', name: 'Cuba' },\r\n        { code: 'cz', name: 'Czech Republic' },\r\n        { code: 'de', name: 'Germany' },\r\n        { code: 'eg', name: 'Egypt' },\r\n        { code: 'fr', name: 'France' },\r\n        { code: 'gb', name: 'United Kingdom' },\r\n        { code: 'gr', name: 'Greece' },\r\n        { code: 'hk', name: 'Hong Kong' },\r\n        { code: 'hu', name: 'Hungary' },\r\n        { code: 'id', name: 'Indonesia' },\r\n        { code: 'ie', name: 'Ireland' },\r\n        { code: 'il', name: 'Israel' },\r\n        { code: 'in', name: 'India' },\r\n        { code: 'it', name: 'Italy' },\r\n        { code: 'jp', name: 'Japan' },\r\n        { code: 'kr', name: 'Korea' },\r\n        { code: 'lt', name: 'Lithuania' },\r\n        { code: 'lv', name: 'Latvia' },\r\n        { code: 'ma', name: 'Morocco' },\r\n        { code: 'mx', name: 'Mexico' },\r\n        { code: 'my', name: 'Malaysia' },\r\n        { code: 'ng', name: 'Nigeria' },\r\n        { code: 'nl', name: 'Netherlands' },\r\n        { code: 'no', name: 'Norway' },\r\n        { code: 'nz', name: 'New Zealand' },\r\n        { code: 'ph', name: 'Philippines' },\r\n        { code: 'pl', name: 'Poland' },\r\n        { code: 'pt', name: 'Portugal' },\r\n        { code: 'ro', name: 'Romania' },\r\n        { code: 'rs', name: 'Serbia' },\r\n        { code: 'ru', name: 'Russian Federation' },\r\n        { code: 'sa', name: 'Saudi Arabia' },\r\n        { code: 'se', name: 'Sweden' },\r\n        { code: 'sg', name: 'Singapore' },\r\n        { code: 'si', name: 'Slovenia' },\r\n        { code: 'sk', name: 'Slovakia' },\r\n        { code: 'th', name: 'Thailand' },\r\n        { code: 'tr', name: 'Turkey' },\r\n        { code: 'tw', name: 'Taiwan' },\r\n        { code: 'ua', name: 'Ukraine' },\r\n        { code: 'us', name: 'United States' },\r\n        { code: 've', name: 'Venezuela' },\r\n        { code: 'za', name: 'South Africa' },\r\n      ])\r\n      const publishersSet = new Set(\r\n        res.data.sources.map(source => {\r\n          return { name: source.name, id: source.id }\r\n        })\r\n      )\r\n      setCategories(categoriesSet)\r\n      setCountries(countriesSet)\r\n      setPublishers(publishersSet)\r\n    }\r\n\r\n    const getFiresotre = async () => {\r\n      const doc = await useFirebase.getSettings()\r\n      console.log('getFirestore: Settings got at Provider →', doc.data())\r\n      setAdminCountry(doc.data().country)\r\n      setAdminPublisher(doc.data().publisher)\r\n      setAdminCategory(doc.data().category)\r\n    }\r\n\r\n    getOptions()\r\n    getFiresotre()\r\n  }, [])\r\n\r\n  const NewsProvider = NewsContext.Provider\r\n  const FirestoreProvider = FirestoreContext.Provider\r\n\r\n  return (\r\n    <FirestoreProvider value={{ adminCountry, adminPublisher, adminCategory }}>\r\n      <NewsProvider value={{ countries, publishers, categories }}>{children}</NewsProvider>\r\n    </FirestoreProvider>\r\n  )\r\n}\r\n\r\nProvider.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n}\r\n\r\nexport default Provider\r\n","import { useState, useEffect, useRef } from 'react'\r\n\r\n// The Powerful Helpers: Custom Hooks! :DDDD\r\n\r\n// Detect if administor is logged in.\r\nconst useFirebaseAuth = myFirebase => {\r\n  const [authUser, setAuthUser] = useState(null)\r\n  useEffect(() => {\r\n    const unlisten = myFirebase.isLoggedIn(setAuthUser)\r\n    return () => unlisten()\r\n  }, [myFirebase])\r\n  return authUser\r\n}\r\n\r\nconst usePrevious = value => {\r\n  const ref = useRef()\r\n  useEffect(() => {\r\n    ref.current = value\r\n  })\r\n  return ref.current\r\n}\r\n\r\nconst useWindowWidth = () => {\r\n  const [width, setWidth] = useState(window.innerWidth)\r\n  useEffect(() => {\r\n    const handleResize = () => setWidth(window.innerWidth)\r\n    window.addEventListener('resize', handleResize)\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize)\r\n    }\r\n  })\r\n  return width\r\n}\r\n\r\nexport { useFirebaseAuth, usePrevious, useWindowWidth }\r\n","import React, { useRef, useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  makeStyles,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText,\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst Selector = ({ name, options, changeHandler, selected }) => {\r\n  const classes = useStyles()\r\n  const inputLabel = useRef(null)\r\n\r\n  const [labelWidth, setLabelWidth] = useState(0)\r\n  const [hasErr, setHasErr] = useState(false)\r\n  useEffect(() => {\r\n    setLabelWidth(inputLabel.current.offsetWidth)\r\n  }, [])\r\n\r\n  const selectValid = e => {\r\n    changeHandler(e.target.value)\r\n    if (e.target.value === '') {\r\n      setHasErr(true)\r\n    } else {\r\n      setHasErr(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormControl variant=\"outlined\" className={classes.formControl} error={hasErr}>\r\n      <InputLabel ref={inputLabel} id=\"demo-simple-select-outlined-label\">\r\n        {name}\r\n      </InputLabel>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        value={selected}\r\n        onChange={e => selectValid(e)}\r\n        labelWidth={labelWidth}\r\n      >\r\n        <MenuItem value=\"\">\r\n          <em>None</em>\r\n        </MenuItem>\r\n        {Array.from(options).map((option, i) => {\r\n          return option.name ? (\r\n            <MenuItem key={`option-${i}`} value={option.name}>\r\n              {option.name}\r\n            </MenuItem>\r\n          ) : (\r\n            <MenuItem key={`option-${i}`} value={option}>\r\n              {option}\r\n            </MenuItem>\r\n          )\r\n        })}\r\n      </Select>\r\n      {hasErr && <FormHelperText>Required.</FormHelperText>}\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nSelector.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  options: PropTypes.object,\r\n  changeHandler: PropTypes.func.isRequired,\r\n  selected: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Selector\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mansory: {\r\n    display: 'flex',\r\n    margin: 'auto',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n  },\r\n  mansoryCols: {\r\n    margin: theme.spacing(0, 1),\r\n    flex: '0 1 auto',\r\n  },\r\n}))\r\n\r\nconst Masonry = ({ colNum, children }) => {\r\n  console.log('colNum', colNum)\r\n  const classes = useStyles()\r\n  const cols = {}\r\n  const arranged = []\r\n  // Create columns based on colNum\r\n  for (let i = 0; i < colNum; i += 1) {\r\n    cols[`col${i}`] = []\r\n  }\r\n  // Devide childrens to each column\r\n  for (let i = 0; i < children.length; i += 1) {\r\n    const colIdx = i % colNum\r\n    cols[`col${colIdx}`].push(children[i])\r\n  }\r\n  // concat each column to an array in order to render\r\n  for (let i = 0; i < colNum; i += 1) {\r\n    arranged.push(\r\n      <div key={`col-${i}`} className={classes.mansoryCols}>\r\n        {cols[`col${i}`]}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return <div className={classes.mansory}>{arranged}</div>\r\n}\r\n\r\nMasonry.propTypes = {\r\n  colNum: PropTypes.number.isRequired,\r\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\r\n}\r\n\r\nexport default Masonry\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  makeStyles,\r\n  Card,\r\n  CardActionArea,\r\n  CardMedia,\r\n  Typography,\r\n  CardActions,\r\n  CardContent,\r\n  Button,\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    margin: theme.spacing(1, 0, 2),\r\n    width: '100%',\r\n    maxWidth: 320,\r\n  },\r\n}))\r\n\r\nconst NewsCard = ({ imgUrl, newsTitle, newsSummary, publishedAt, sourceName }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt=\"Contemplative Reptile\"\r\n          height=\"140\"\r\n          image={imgUrl || 'https://source.unsplash.com/random/300x400'}\r\n          title={newsTitle}\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {newsTitle}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {newsSummary}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\">\r\n          {publishedAt}\r\n        </Button>\r\n        <Button size=\"small\" color=\"primary\">\r\n          {sourceName}\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n\r\nNewsCard.defaultProps = {\r\n  imgUrl: 'https://source.unsplash.com/random/300x400',\r\n  newsTitle: 'I am a news title',\r\n  newsSummary: 'I am a news summary',\r\n  publishedAt: '0000/00/00 00:00',\r\n  sourceName: 'jujuriri',\r\n}\r\n\r\nNewsCard.propTypes = {\r\n  imgUrl: PropTypes.string,\r\n  newsTitle: PropTypes.string,\r\n  newsSummary: PropTypes.string,\r\n  publishedAt: PropTypes.string,\r\n  sourceName: PropTypes.string,\r\n}\r\n\r\nexport default NewsCard\r\n","import React from 'react'\r\nimport { Button } from '@material-ui/core'\r\n\r\nconst SortByBtns = () => {\r\n  return (\r\n    <>\r\n      <Button variant=\"outlined\">Date</Button>\r\n      <Button variant=\"outlined\">Title (A-Z)</Button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SortByBtns\r\n","import React, { useContext, useState, useEffect, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { usePrevious, useWindowWidth } from '../customHooks'\r\nimport { NewsContext, FirestoreContext } from '../context/context'\r\nimport Selector from './Selector'\r\nimport Masonry from './Masonry'\r\nimport NewsCard from './NewsCard'\r\nimport SortByBtns from './SortByBtns'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  newsPaper: {\r\n    margin: theme.spacing(0, 1),\r\n    padding: theme.spacing(0, 1),\r\n  },\r\n}))\r\n\r\nconst NewsPaper = ({ readBy }) => {\r\n  const news = useContext(NewsContext)\r\n  const firestore = useContext(FirestoreContext)\r\n  const classes = useStyles()\r\n\r\n  const [isAdminSetting, setIsAdminSetting] = useState(true)\r\n  const [selectedCtry, setSelectedCtry] = useState('')\r\n  const [selectedCat, setSelectedCat] = useState('')\r\n  const [selectedPubl, setSelectedPubl] = useState('')\r\n  const [isCtryCatLaoding, setIsCtryCatLoading] = useState(true)\r\n  const [isPublLaoding, setIsPublLoading] = useState(true)\r\n  const [newsListCtryCat, setNewsListCtryCat] = useState([])\r\n  const [newsListPubl, setNewsListPubl] = useState([])\r\n\r\n  useEffect(() => {\r\n    console.log('Home here!')\r\n  }, [])\r\n\r\n  const windowWidth = useWindowWidth()\r\n  const [colNum, setColNum] = useState(0)\r\n  useEffect(() => {\r\n    if (windowWidth < 600) {\r\n      setColNum(1)\r\n    } else if (windowWidth < 900) {\r\n      setColNum(2)\r\n    } else if (windowWidth < 1200) {\r\n      setColNum(3)\r\n    } else if (windowWidth < 2560) {\r\n      setColNum(4)\r\n    }\r\n  }, [windowWidth])\r\n\r\n  const prevSelectedCtry = usePrevious(selectedCtry)\r\n  const prevSelectedCat = usePrevious(selectedCat)\r\n  const prevSelectedPubl = usePrevious(selectedPubl)\r\n\r\n  // Init: Get News by Ctry & Cat\r\n  useEffect(() => {\r\n    const getNewsCtryCat = async (ctry, cat, pageNum = null) => {\r\n      const ctryCode = Array.from(news.countries)\r\n        .filter(country => country.name === ctry)\r\n        .map(selected => selected.code)\r\n      // call News API (/top-headlines) based on selected options or admin's Settings.\r\n      const res = await axios(\r\n        `https://newsapi.org/v2/top-headlines?apiKey=${process.env.REACT_APP_NEWS_API_KEY}`,\r\n        {\r\n          params: {\r\n            country: ctryCode,\r\n            category: cat,\r\n            page: pageNum,\r\n          },\r\n        }\r\n      )\r\n      setNewsListCtryCat(res.data.articles)\r\n    }\r\n    if (firestore.adminCountry !== '' && firestore.adminCategory !== '' && isAdminSetting) {\r\n      setSelectedCtry(firestore.adminCountry)\r\n      setSelectedCat(firestore.adminCategory)\r\n    }\r\n    if (selectedCtry !== '' && selectedCat !== '') {\r\n      if (prevSelectedCtry !== selectedCtry || prevSelectedCat !== selectedCat) {\r\n        getNewsCtryCat(selectedCtry, selectedCat)\r\n      }\r\n    }\r\n    if (newsListCtryCat.length > 0) {\r\n      setIsCtryCatLoading(false)\r\n      setIsAdminSetting(false)\r\n    }\r\n  }, [\r\n    firestore.adminCountry,\r\n    firestore.adminCategory,\r\n    news.countries,\r\n    readBy,\r\n    selectedCtry,\r\n    selectedCat,\r\n    newsListCtryCat.length,\r\n    isAdminSetting,\r\n    prevSelectedCtry,\r\n    prevSelectedCat,\r\n  ])\r\n\r\n  // Init: Get News by Publisher\r\n  useEffect(() => {\r\n    const getNewsPubl = async (publ, pageNum = null) => {\r\n      const sourceId = Array.from(news.publishers)\r\n        .filter(publisher => publisher.name === publ)\r\n        .map(selected => selected.id)\r\n      const res = await axios(\r\n        `https://newsapi.org/v2/top-headlines?apiKey=${process.env.REACT_APP_NEWS_API_KEY}`,\r\n        {\r\n          params: {\r\n            sources: sourceId,\r\n            page: pageNum,\r\n          },\r\n        }\r\n      )\r\n      setNewsListPubl(res.data.articles)\r\n    }\r\n    if (firestore.adminPublisher !== '' && isAdminSetting) {\r\n      setSelectedPubl(firestore.adminPublisher)\r\n    }\r\n    if (prevSelectedPubl !== selectedPubl && selectedPubl !== '') {\r\n      getNewsPubl(selectedPubl)\r\n    }\r\n    if (newsListPubl.length > 0) {\r\n      setIsPublLoading(false)\r\n      setIsAdminSetting(false)\r\n    }\r\n  }, [\r\n    firestore.adminPublisher,\r\n    isAdminSetting,\r\n    news.publishers,\r\n    newsListPubl.length,\r\n    prevSelectedPubl,\r\n    readBy,\r\n    selectedPubl,\r\n  ])\r\n\r\n  const changeCtry = value => {\r\n    if (!isAdminSetting) {\r\n      setSelectedCtry(value)\r\n    }\r\n  }\r\n\r\n  const changeCat = value => {\r\n    if (!isAdminSetting) {\r\n      setSelectedCat(value)\r\n    }\r\n  }\r\n\r\n  const changePubl = value => {\r\n    if (!isAdminSetting) {\r\n      setSelectedPubl(value)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.newsPaper}>\r\n      {readBy === 'Country and Category' && !isCtryCatLaoding && (\r\n        <>\r\n          <Selector\r\n            name=\"Country\"\r\n            options={news.countries}\r\n            selected={selectedCtry}\r\n            changeHandler={changeCtry}\r\n          />\r\n          <Selector\r\n            name=\"Category\"\r\n            options={news.categories}\r\n            selected={selectedCat}\r\n            changeHandler={changeCat}\r\n          />\r\n          <SortByBtns />\r\n          <Masonry colNum={colNum}>\r\n            {newsListCtryCat.map((n, i) => {\r\n              return (\r\n                <NewsCard\r\n                  key={`NewsCard-CC-${i}`}\r\n                  imgUrl={n.urlToImage}\r\n                  newsTitle={n.title}\r\n                  newsSummary={n.description}\r\n                  publishedAt={n.publishedAt}\r\n                  sourceName={n.source.name}\r\n                />\r\n              )\r\n            })}\r\n          </Masonry>\r\n        </>\r\n      )}\r\n      {readBy === 'Publisher' && !isPublLaoding && (\r\n        <>\r\n          <Selector\r\n            name=\"Publisher\"\r\n            options={news.publishers}\r\n            selected={selectedPubl}\r\n            changeHandler={changePubl}\r\n          />\r\n          <SortByBtns />\r\n          <Masonry colNum={colNum}>\r\n            {newsListPubl.map((n, i) => {\r\n              return (\r\n                <NewsCard\r\n                  key={`NewsCard-P-${i}`}\r\n                  imgUrl={n.urlToImage}\r\n                  newsTitle={n.title}\r\n                  newsSummary={n.description}\r\n                  publishedAt={n.publishedAt}\r\n                  sourceName={n.source.name}\r\n                />\r\n              )\r\n            })}\r\n          </Masonry>\r\n        </>\r\n      )}\r\n      {(isCtryCatLaoding || isPublLaoding) && <p>Loading</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\n// 當捲軸到底部時，如果 total Result 大於目前 NewsList 長度\r\n// fetch 下一頁，然後要 Loading 圖，然後把下一頁加到 NewsList 裡\r\n// 加上 useCallback 要正確使用\r\n// 排序功能\r\n\r\nNewsPaper.propTypes = {\r\n  readBy: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default NewsPaper\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport NewsPaper from './NewsPaper'\r\n\r\n// Get admin settings from firestore first,\r\n// then get news data based on that settings.\r\n// Guests can change settings, but once they leave or refresh\r\n// settings will reset back to admin's setting.\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: 'auto',\r\n    padding: theme.spacing(0, 1),\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    textTransform: 'none',\r\n    width: 100,\r\n  },\r\n}))\r\n\r\nconst Home = () => {\r\n  const classes = useStyles()\r\n\r\n  const [readBy, setReadBy] = useState('')\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    console.log('Home here! location: ', location)\r\n    if (location.pathname === '/') {\r\n      setReadBy('Country and Category')\r\n    } else if (location.pathname === '/publ') {\r\n      setReadBy('Publisher')\r\n    }\r\n  }, [location])\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <NewsPaper readBy={readBy} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useContext, useState } from 'react'\r\nimport { makeStyles, Button } from '@material-ui/core'\r\nimport { NewsContext } from '../context/context'\r\nimport useFirebase from '../firebase'\r\nimport Selector from './Selector'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    width: 300,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: 'auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    textTransform: 'none',\r\n    width: 300,\r\n  },\r\n}))\r\n\r\nfunction ControlPanel() {\r\n  const classes = useStyles()\r\n  const news = useContext(NewsContext)\r\n\r\n  const [selectedCtry, setSelectedCtry] = useState('')\r\n  const [selectedPubl, setSelectedPubl] = useState('')\r\n  const [selectedCat, setSelectedCat] = useState('')\r\n\r\n  const changeCtry = value => {\r\n    setSelectedCtry(value)\r\n  }\r\n\r\n  const changeCat = value => {\r\n    setSelectedCat(value)\r\n  }\r\n\r\n  const chagePubl = value => {\r\n    setSelectedPubl(value)\r\n  }\r\n\r\n  const saveAdminSettings = () => {\r\n    const admin = {\r\n      category: selectedCat,\r\n      publisher: selectedPubl,\r\n      country: selectedCtry,\r\n    }\r\n    useFirebase\r\n      .saveSettings(admin)\r\n      .then(console.log('options has been saved!'))\r\n      .catch(err => console.log(err))\r\n    setSelectedCat('')\r\n    setSelectedCtry('')\r\n    setSelectedPubl('')\r\n  }\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <p>Control Panel</p>\r\n      <Selector\r\n        name=\"Publisher\"\r\n        options={news.publishers}\r\n        selected={selectedPubl}\r\n        changeHandler={chagePubl}\r\n      />\r\n      <Selector\r\n        name=\"Country\"\r\n        options={news.countries}\r\n        selected={selectedCtry}\r\n        changeHandler={changeCtry}\r\n      />\r\n      <Selector\r\n        name=\"Category\"\r\n        options={news.categories}\r\n        selected={selectedCat}\r\n        changeHandler={changeCat}\r\n      />\r\n      <Button className={classes.button} variant=\"outlined\" fullWidth onClick={saveAdminSettings}>\r\n        Save\r\n      </Button>\r\n      <Button\r\n        className={classes.button}\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        onClick={() => useFirebase.logOut()}\r\n      >\r\n        Log Out\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ControlPanel\r\n","import React, { useState } from 'react'\r\nimport {\r\n  makeStyles,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  ListItem,\r\n  ListItemText,\r\n  Avatar,\r\n} from '@material-ui/core'\r\nimport useFirebase from '../firebase'\r\nimport avatarImg from '../assets/imgs/logo.svg'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    width: 300,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: 'auto',\r\n  },\r\n  logo: {\r\n    margin: 10,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    margin: theme.spacing(1),\r\n    flex: '1 1 auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    flex: '1 1 auto',\r\n    textTransform: 'none',\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n  loginMsg: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nfunction Login() {\r\n  const classes = useStyles()\r\n  const loginMsg = 'Only administrator allow to login.'\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [pw, setPw] = useState('')\r\n\r\n  return (\r\n    <form className={classes.container} noValidate autoComplete=\"off\">\r\n      <Avatar alt=\"News\" src={avatarImg} className={classes.logo} />\r\n      <Typography className={classes.title} variant=\"h6\">\r\n        Login\r\n      </Typography>\r\n      <TextField\r\n        id=\"outlined-basic\"\r\n        className={classes.textField}\r\n        label=\"Email\"\r\n        margin=\"normal\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        value={email}\r\n        onChange={e => setEmail(e.target.value)}\r\n      />\r\n      <TextField\r\n        id=\"outlined-password-input\"\r\n        label=\"Password\"\r\n        className={classes.textField}\r\n        type=\"password\"\r\n        autoComplete=\"current-password\"\r\n        margin=\"normal\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        value={pw}\r\n        onChange={e => setPw(e.target.value)}\r\n      />\r\n      <Button\r\n        variant=\"outlined\"\r\n        className={classes.button}\r\n        fullWidth\r\n        onClick={() => {\r\n          useFirebase.login(email, pw).catch(err => console.log(err.message))\r\n        }}\r\n      >\r\n        Login\r\n      </Button>\r\n      <ListItem className={classes.loginMsg}>\r\n        <ListItemText primary={loginMsg} />\r\n      </ListItem>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport useFirebase from '../firebase'\r\nimport { useFirebaseAuth } from '../customHooks'\r\nimport ControlPanel from './ControlPanel'\r\nimport Login from './Login'\r\n\r\nfunction Admin() {\r\n  const authUser = useFirebaseAuth(useFirebase)\r\n  return authUser ? <ControlPanel /> : <Login />\r\n}\r\n\r\nexport default Admin\r\n","import React, { useEffect } from 'react'\r\nimport { BrowserRouter as Router, Route, NavLink, useHistory } from 'react-router-dom'\r\nimport {\r\n  CssBaseline,\r\n  makeStyles,\r\n  AppBar,\r\n  Toolbar,\r\n  ListItem,\r\n  ListItemText,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport Home from './Home'\r\nimport Admin from './Admin'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appbar: {\r\n    boxShadow: 'unset',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  toolbar: {\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    maxWidth: '70%',\r\n    alignSelf: 'center',\r\n  },\r\n  logoBtn: {\r\n    fontWeight: 'bold',\r\n    fontFamily: 'Meiryo',\r\n    cursor: 'pointer',\r\n    fontSize: '20px',\r\n  },\r\n  navBtn: {\r\n    flex: '0 0 8%',\r\n    margin: theme.spacing(0, 2),\r\n    textAlign: 'center',\r\n    whiteSpace: 'nowrap',\r\n    borderRadius: 3,\r\n  },\r\n  loginBtn: {\r\n    border: '1px solid silver',\r\n  },\r\n}))\r\n\r\nfunction App() {\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    console.log('App here!')\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <Router>\r\n        <AppBar position=\"static\" color=\"inherit\" className={classes.appbar}>\r\n          <Toolbar className={classes.toolbar}>\r\n            <Typography className={`${classes.navBtn} ${classes.logoBtn}`}>Read News By</Typography>\r\n            <ListItem\r\n              className={classes.navBtn}\r\n              button\r\n              key=\"Country and Category\"\r\n              component={NavLink}\r\n              exact\r\n              to=\"/\"\r\n            >\r\n              <ListItemText primary=\"Country and Category\" />\r\n            </ListItem>\r\n            <ListItem\r\n              className={classes.navBtn}\r\n              button\r\n              key=\"Publisher\"\r\n              component={NavLink}\r\n              to=\"/publ\"\r\n            >\r\n              <ListItemText primary=\"Publisher\" />\r\n            </ListItem>\r\n            <ListItem\r\n              className={`${classes.navBtn} ${classes.loginBtn}`}\r\n              button\r\n              key=\"Login\"\r\n              component={NavLink}\r\n              to=\"/admin\"\r\n            >\r\n              <ListItemText primary=\"Admin\" />\r\n            </ListItem>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Route exact path=\"/\" render={() => <Home />} />\r\n        <Route path=\"/publ\" render={() => <Home />} />\r\n        <Route path=\"/admin\" render={() => <Admin />} />\r\n      </Router>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Provider from './context/Provider'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <Provider>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";"],"sourceRoot":""}