{"version":3,"sources":["context/context.js","firebase.js","context/Provider.jsx","customHooks.js","components/Selector.jsx","components/Masonry.jsx","components/NewsCard.jsx","components/Loader.jsx","components/NewsPaper.jsx","components/ScrollToTop.jsx","components/Home.jsx","components/ControlPanel.jsx","components/Login.jsx","components/Admin.jsx","components/App.jsx","index.js","imgs/avatar-admin.png","imgs/avatar-guest.png"],"names":["NewsContext","createContext","FirestoreContext","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","useFirebase","firebase","initializeApp","this","auth","db","firestore","email","password","signInWithEmailAndPassword","signOut","callback","onAuthStateChanged","authUser","collection","doc","get","settings","set","Provider","children","useState","countries","setCountries","publishers","setPublishers","categories","setCategories","adminCC","setAdminCC","adminPubl","setAdminPubl","useEffect","getOptions","a","axios","res","categoriesSet","Set","countriesSet","code","name","publishersSet","data","sources","map","source","id","getFiresotre","getSettings","ctry","country","cat","category","publisher","NewsProvider","FirestoreProvider","value","useFirebaseAuth","myFirebase","setAuthUser","unlisten","isLoggedIn","usePrevious","ref","useRef","current","useStyles","makeStyles","theme","formControl","margin","spacing","width","Selector","options","changeHandler","selected","hasReady","classes","inputLabel","labelWidth","setLabelWidth","hasErr","setHasErr","offsetWidth","optionKey","FormControl","variant","className","error","InputLabel","Select","labelId","onChange","e","target","selectValid","MenuItem","Array","from","option","key","FormHelperText","mansory","display","flexFlow","justifyContent","alignItems","mansoryCols","flex","Masonry","colNum","curCols","setCurCols","masonryInit","useCallback","cols","length","console","log","forEach","child","i","push","mansoryColKey","c","card","maxWidth","cardActionsArea","transition","cardActions","toLocalTime","NewsCard","imgUrl","newsTitle","newsSummary","publishedAt","sourceName","author","articleUrl","newsContent","openDialog","openArticleUrl","checkedImgUrl","url","utc","publTime","moment","userTZ","tz","guess","format","Card","CardActionArea","onClick","content","CardMedia","component","height","image","CardContent","Typography","gutterBottom","color","CardActions","Button","size","defaultProps","root","marginLeft","marginTop","Loader","CircularProgress","newsPaper","padding","breakpoints","down","searchBar","searchBtn","textTransform","divider","dialogHeader","marginRight","dialogImg","objectFit","marginBottom","dialogFooter","NewsPaper","readBy","news","useContext","isAdminSetting","setIsAdminSetting","selectedCtry","setSelectedCtry","selectedCat","setSelectedCat","selectedPubl","setSelectedPubl","isLoading","setIsLoading","newsList","setNewsList","totalResults","setTotalResults","curPage","setCurPage","curClickedNews","setCurClickedNews","isDialogOpen","setIsDialogOpen","isCtryReady","setIsCtryReady","isCatReady","setIsCatReady","isPublReady","setIsPublReady","prevSelectedCtry","prevSelectedCat","prevSelectedPubl","prevCurPage","getNews","publ","pageNum","ctryCode","filter","sourceId","params","page","articles","moreNews","concat","handleScroll","trigger","document","body","offsetHeight","window","innerHeight","scrollY","addEventListener","removeEventListener","windowWidth","innerWidth","setWidth","handleResize","useWindowWidth","setColNum","title","img","time","fully","closeDialog","open","newsCardKey","bool","userSearch","Divider","n","urlToImage","description","Dialog","onClose","IconButton","DialogContent","dividers","alt","src","DialogContentText","DialogActions","align","button","position","right","bottom","ScrollToTop","Fab","aria-label","scroll","top","left","behavior","scrollTo","handleToTop","container","Home","setReadBy","location","useLocation","pathname","controlPanelMsg","textAlign","dialogBtn","ControlPanel","saveMsg","setSaveMsg","saveHasErr","setSaveHasErr","fullWidth","admin","saveSettings","then","catch","err","DialogTitle","href","logOut","ListItem","ListItemText","primary","textField","input","Login","setEmail","pw","setPw","noValidate","autoComplete","TextField","label","type","login","Error","message","logo","Admin","pageTitle","setPageTitle","avatarImg","setAvatarImg","adminIcon","guestIcon","Avatar","appbar","boxShadow","toolbar","alignSelf","pageLabel","logoLink","textDecoration","logoBtn","fontWeight","fontFamily","fontSize","navBtn","whiteSpace","borderRadius","navBtnActive","backgroundColor","palette","action","loginBtn","borderColor","App","CssBaseline","basename","AppBar","Toolbar","to","NavLink","exact","activeClassName","path","render","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9ed3b5a0.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const NewsContext = createContext()\nexport const FirestoreContext = createContext()\n","import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nconst config = {\n  apiKey: `${process.env.REACT_APP_FIREBASE_API_KEY}`,\n  authDomain: 'news-4ef12.firebaseapp.com',\n  databaseURL: 'https://news-4ef12.firebaseio.com',\n  projectId: 'news-4ef12',\n  storageBucket: 'news-4ef12.appspot.com',\n  messagingSenderId: '890937201506',\n  appId: `${process.env.REACT_APP_FIREBASE_APPID}`,\n  measurementId: 'G-2QYDG5TDTW',\n}\n\nclass Firebase {\n  constructor() {\n    firebase.initializeApp(config)\n    this.auth = firebase.auth()\n    this.db = firebase.firestore()\n  }\n\n  login(email, password) {\n    return this.auth.signInWithEmailAndPassword(email, password)\n  }\n\n  logOut() {\n    return this.auth.signOut()\n  }\n\n  isLoggedIn(callback) {\n    return this.auth.onAuthStateChanged(authUser => {\n      authUser ? callback(authUser) : callback(null)\n    })\n  }\n\n  getSettings() {\n    return this.db\n      .collection('settings')\n      .doc('options')\n      .get()\n  }\n\n  saveSettings(settings) {\n    return this.db\n      .collection('settings')\n      .doc('options')\n      .set(settings)\n  }\n}\n\nconst useFirebase = new Firebase()\n\nexport default useFirebase\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\nimport { NewsContext, FirestoreContext } from './context'\nimport useFirebase from '../firebase'\n\nconst Provider = ({ children }) => {\n  const [countries, setCountries] = useState({})\n  const [publishers, setPublishers] = useState({})\n  const [categories, setCategories] = useState({})\n  const [adminCC, setAdminCC] = useState({})\n  const [adminPubl, setAdminPubl] = useState('')\n\n  useEffect(() => {\n    // Fetch data from News API (/source), just for displaying options of selectors.\n    const getOptions = async () => {\n      const res = await axios(\n        `https://newsapi.org/v2/sources?apiKey=${process.env.REACT_APP_NEWS_API_KEY}`\n      )\n      const categoriesSet = new Set([\n        'business',\n        'entertainment',\n        'general',\n        'health',\n        'science',\n        'sports',\n        'technology',\n      ])\n      const countriesSet = new Set([\n        { code: 'ae', name: 'United Arab Emirates' },\n        { code: 'ar', name: 'Argentina' },\n        { code: 'at', name: 'Austria' },\n        { code: 'au', name: 'Australia' },\n        { code: 'be', name: 'Belgium' },\n        { code: 'bg', name: 'Bulgaria' },\n        { code: 'br', name: 'Brazil' },\n        { code: 'ca', name: 'Canada' },\n        { code: 'ch', name: 'Switzerland' },\n        { code: 'cn', name: 'China' },\n        { code: 'co', name: 'Colombia' },\n        { code: 'cu', name: 'Cuba' },\n        { code: 'cz', name: 'Czech Republic' },\n        { code: 'de', name: 'Germany' },\n        { code: 'eg', name: 'Egypt' },\n        { code: 'fr', name: 'France' },\n        { code: 'gb', name: 'United Kingdom' },\n        { code: 'gr', name: 'Greece' },\n        { code: 'hk', name: 'Hong Kong' },\n        { code: 'hu', name: 'Hungary' },\n        { code: 'id', name: 'Indonesia' },\n        { code: 'ie', name: 'Ireland' },\n        { code: 'il', name: 'Israel' },\n        { code: 'in', name: 'India' },\n        { code: 'it', name: 'Italy' },\n        { code: 'jp', name: 'Japan' },\n        { code: 'kr', name: 'Korea' },\n        { code: 'lt', name: 'Lithuania' },\n        { code: 'lv', name: 'Latvia' },\n        { code: 'ma', name: 'Morocco' },\n        { code: 'mx', name: 'Mexico' },\n        { code: 'my', name: 'Malaysia' },\n        { code: 'ng', name: 'Nigeria' },\n        { code: 'nl', name: 'Netherlands' },\n        { code: 'no', name: 'Norway' },\n        { code: 'nz', name: 'New Zealand' },\n        { code: 'ph', name: 'Philippines' },\n        { code: 'pl', name: 'Poland' },\n        { code: 'pt', name: 'Portugal' },\n        { code: 'ro', name: 'Romania' },\n        { code: 'rs', name: 'Serbia' },\n        { code: 'ru', name: 'Russian Federation' },\n        { code: 'sa', name: 'Saudi Arabia' },\n        { code: 'se', name: 'Sweden' },\n        { code: 'sg', name: 'Singapore' },\n        { code: 'si', name: 'Slovenia' },\n        { code: 'sk', name: 'Slovakia' },\n        { code: 'th', name: 'Thailand' },\n        { code: 'tr', name: 'Turkey' },\n        { code: 'tw', name: 'Taiwan' },\n        { code: 'ua', name: 'Ukraine' },\n        { code: 'us', name: 'United States' },\n        { code: 've', name: 'Venezuela' },\n        { code: 'za', name: 'South Africa' },\n      ])\n      const publishersSet = new Set(\n        res.data.sources.map(source => {\n          return { name: source.name, id: source.id }\n        })\n      )\n      setCategories(categoriesSet)\n      setCountries(countriesSet)\n      setPublishers(publishersSet)\n    }\n\n    const getFiresotre = async () => {\n      const doc = await useFirebase.getSettings()\n      setAdminCC({ ctry: doc.data().country, cat: doc.data().category })\n      setAdminPubl(doc.data().publisher)\n    }\n\n    getOptions()\n    getFiresotre()\n  }, [])\n\n  const NewsProvider = NewsContext.Provider\n  const FirestoreProvider = FirestoreContext.Provider\n\n  return (\n    <FirestoreProvider value={{ adminCC, adminPubl }}>\n      <NewsProvider value={{ countries, publishers, categories }}>{children}</NewsProvider>\n    </FirestoreProvider>\n  )\n}\n\nProvider.propTypes = {\n  children: PropTypes.element.isRequired,\n}\n\nexport default Provider\n","import { useState, useEffect, useRef } from 'react'\n\n// The Powerful Helpers: Custom Hooks! :DDDD\n\n// Detect if administor is logged in.\nconst useFirebaseAuth = myFirebase => {\n  const [authUser, setAuthUser] = useState(null)\n  useEffect(() => {\n    const unlisten = myFirebase.isLoggedIn(setAuthUser)\n    return () => unlisten()\n  }, [myFirebase])\n  return authUser\n}\n\n// Memo down previous props or state, allow me to compare with current value.\nconst usePrevious = value => {\n  const ref = useRef()\n  useEffect(() => {\n    ref.current = value\n  })\n  return ref.current\n}\n\n// Detect window width.\nconst useWindowWidth = () => {\n  const [width, setWidth] = useState(window.innerWidth)\n  useEffect(() => {\n    const handleResize = () => setWidth(window.innerWidth)\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  })\n  return width\n}\n\nexport { useFirebaseAuth, usePrevious, useWindowWidth }\n","import React, { useRef, useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  makeStyles,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  FormHelperText,\n} from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(1, 0),\n    width: '100%',\n  },\n}))\n\nconst Selector = ({ name, options, changeHandler, selected, hasReady }) => {\n  const classes = useStyles()\n  const inputLabel = useRef(null)\n\n  const [labelWidth, setLabelWidth] = useState(0)\n  const [hasErr, setHasErr] = useState(false)\n\n  useEffect(() => {\n    setLabelWidth(inputLabel.current.offsetWidth)\n  }, [])\n\n  // Because I don't want to install short-id here, so I came up with this solution myself.\n  let optionKey = 0\n\n  useEffect(() => {\n    if (optionKey > 0) {\n      hasReady(true)\n    }\n  }, [hasReady, optionKey])\n\n  const selectValid = e => {\n    changeHandler(e.target.value)\n    if (e.target.value === '') {\n      setHasErr(true)\n    } else {\n      setHasErr(false)\n    }\n  }\n\n  return (\n    <FormControl variant=\"outlined\" className={classes.formControl} error={hasErr}>\n      <InputLabel ref={inputLabel} id=\"demo-simple-select-outlined-label\">\n        {name}\n      </InputLabel>\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        value={selected}\n        onChange={e => selectValid(e)}\n        labelWidth={labelWidth}\n      >\n        <MenuItem value=\"\">\n          <em>None</em>\n        </MenuItem>\n        {Array.from(options).map(option => {\n          optionKey += 1\n          return option.name ? (\n            <MenuItem key={`optionName-${optionKey}`} value={option.name}>\n              {option.name}\n            </MenuItem>\n          ) : (\n            <MenuItem key={`option-${optionKey}`} value={option}>\n              {option}\n            </MenuItem>\n          )\n        })}\n      </Select>\n      {hasErr && <FormHelperText>Required.</FormHelperText>}\n    </FormControl>\n  )\n}\n\nSelector.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  changeHandler: PropTypes.func.isRequired,\n  selected: PropTypes.string.isRequired,\n  hasReady: PropTypes.func.isRequired,\n}\n\nexport default Selector\n","import React, { useState, useEffect, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  mansory: {\n    display: 'flex',\n    margin: 'auto',\n    flexFlow: 'row nowrap',\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  mansoryCols: {\n    margin: theme.spacing(0, 1),\n    flex: '0 1 auto',\n  },\n}))\n\nconst Masonry = ({ colNum, children }) => {\n  const classes = useStyles()\n\n  const [curCols, setCurCols] = useState([])\n\n  const masonryInit = useCallback(() => {\n    // Create columns, prepare for mansory layout.\n    const cols = Array.from({ length: colNum }, () => [])\n    // Fill columns\n    console.log('cols Outside', cols)\n    children.forEach((child, i) => {\n      console.log('cols forEach', cols)\n      cols[i % colNum].push(child)\n    })\n    setCurCols(cols)\n  }, [children, colNum])\n\n  useEffect(() => {\n    masonryInit()\n  }, [colNum, masonryInit])\n\n  // Because I don't want to install short-id here, so I came up with this solution myself.\n  let mansoryColKey = 0\n\n  return (\n    <div className={classes.mansory}>\n      {curCols.map(c => {\n        mansoryColKey += 1\n        return (\n          <div key={`mansoryCol-${mansoryColKey}`} className={classes.mansoryCols}>\n            {c}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nMasonry.propTypes = {\n  colNum: PropTypes.number.isRequired,\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n}\n\nexport default Masonry\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  makeStyles,\n  Card,\n  CardActionArea,\n  CardMedia,\n  Typography,\n  CardActions,\n  CardContent,\n  Button,\n} from '@material-ui/core'\nimport moment from 'moment-timezone'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    margin: theme.spacing(1, 0, 2),\n    width: '100%',\n    maxWidth: 310,\n  },\n  cardActionsArea: {\n    transition: 'background-color .2s linear',\n  },\n  cardActions: {\n    display: 'flex',\n    flexFlow: 'column',\n    alignItems: 'flex-end',\n  },\n  toLocalTime: {\n    margin: theme.spacing(0, 0.5, 0.5, 0),\n  },\n}))\n\nconst NewsCard = ({\n  imgUrl,\n  newsTitle,\n  newsSummary,\n  publishedAt,\n  sourceName,\n  author,\n  articleUrl,\n  newsContent,\n  openDialog,\n  openArticleUrl,\n}) => {\n  const classes = useStyles()\n\n  const checkedImgUrl = url => {\n    if (url === null || url === 'null' || !url) {\n      return 'https://source.unsplash.com/random/300x400'\n    }\n    return url\n  }\n\n  const checkedNewsContent = content => {\n    if (content === null || content === 'null' || !content) {\n      return newsSummary\n    }\n    return content\n  }\n\n  const toLocalTime = utc => {\n    const publTime = moment(`${utc}`)\n    const userTZ = moment.tz.guess(true)\n    return publTime.tz(userTZ).format('LLL')\n  }\n\n  const checkedAuthor = name => {\n    if (name === null || name === 'null' || !name) {\n      return `(No Author Information)`\n    }\n    return name\n  }\n\n  return (\n    <Card className={classes.card}>\n      <CardActionArea\n        className={classes.cardActionsArea}\n        onClick={() =>\n          openDialog(\n            newsTitle,\n            checkedImgUrl(imgUrl),\n            checkedNewsContent(newsContent),\n            toLocalTime(publishedAt),\n            sourceName,\n            checkedAuthor(author),\n            articleUrl\n          )\n        }\n      >\n        <CardMedia component=\"img\" height=\"140\" image={checkedImgUrl(imgUrl)} />\n        <CardContent>\n          <Typography gutterBottom variant=\"h6\" component=\"h6\">\n            {newsTitle}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {newsSummary}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n      <CardActions className={classes.cardActions}>\n        <Typography className={classes.toLocalTime} variant=\"caption\" color=\"primary\" component=\"p\">\n          {toLocalTime(publishedAt)}\n        </Typography>\n        <Button size=\"small\" color=\"primary\" onClick={() => openArticleUrl(articleUrl)}>\n          {sourceName}\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n\nNewsCard.defaultProps = {\n  imgUrl: 'https://source.unsplash.com/random/300x400',\n  newsTitle: 'I am a news title',\n  newsSummary: 'I am news summary',\n  publishedAt: '0000/00/00 00:00',\n  sourceName: 'google',\n  author: 'I am author',\n  articleUrl: 'https://google.com',\n  newsContent: 'I am news content',\n}\n\nNewsCard.propTypes = {\n  imgUrl: PropTypes.string,\n  newsTitle: PropTypes.string,\n  newsSummary: PropTypes.string,\n  publishedAt: PropTypes.string,\n  sourceName: PropTypes.string,\n  author: PropTypes.string,\n  articleUrl: PropTypes.string,\n  newsContent: PropTypes.string,\n  openDialog: PropTypes.func.isRequired,\n  openArticleUrl: PropTypes.func.isRequired,\n}\n\nexport default NewsCard\n","import React from 'react'\nimport { makeStyles, CircularProgress } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n    justifyContent: 'center',\n    marginTop: theme.spacing(6),\n  },\n}))\n\nconst Loader = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  )\n}\n\nexport default Loader\n","import React, { useContext, useState, useEffect, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\nimport {\n  makeStyles,\n  Button,\n  Divider,\n  Dialog,\n  Typography,\n  IconButton,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n} from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { usePrevious, useWindowWidth } from '../customHooks'\nimport { NewsContext, FirestoreContext } from '../context/context'\nimport Selector from './Selector'\nimport Masonry from './Masonry'\nimport NewsCard from './NewsCard'\nimport Loader from './Loader'\n\nconst useStyles = makeStyles(theme => ({\n  newsPaper: {\n    margin: theme.spacing(0, 1, 9, 1),\n    padding: theme.spacing(0, 1),\n    width: '100%',\n    maxWidth: 1320,\n    [theme.breakpoints.down('md')]: {\n      maxWidth: 994,\n    },\n    [theme.breakpoints.down('sm')]: {\n      maxWidth: 667,\n    },\n    [theme.breakpoints.down(600)]: {\n      maxWidth: 310,\n    },\n  },\n  searchBar: {\n    width: '100%',\n    height: 88,\n    display: 'flex',\n    [theme.breakpoints.down('md')]: {\n      maxWidth: 994,\n    },\n    [theme.breakpoints.down('sm')]: {\n      flexFlow: 'column',\n      alignItems: 'center',\n      height: 'auto',\n      maxWidth: 651,\n      padding: theme.spacing(0, 1),\n    },\n    '& > div:nth-of-type(1)': {\n      marginLeft: theme.spacing(1),\n    },\n    '& > div:nth-of-type(2)': {\n      marginLeft: theme.spacing(1),\n    },\n  },\n  searchBtn: {\n    height: 55,\n    margin: theme.spacing(1),\n    textTransform: 'none',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n    },\n  },\n  divider: {\n    margin: theme.spacing(1, 1, 3, 1),\n  },\n  dialogHeader: {\n    display: 'flex',\n    padding: theme.spacing(2, 3),\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    '& > div': {\n      marginRight: theme.spacing(1),\n    },\n  },\n  dialogImg: {\n    display: 'block',\n    width: '100%',\n    height: 'auto',\n    objectFit: 'scale-down',\n    marginBottom: theme.spacing(1.5),\n  },\n  dialogFooter: {\n    flexFlow: 'column',\n    '& > p': {\n      marginBottom: theme.spacing(1),\n    },\n  },\n}))\n\nconst NewsPaper = ({ readBy }) => {\n  const news = useContext(NewsContext)\n  const firestore = useContext(FirestoreContext)\n  const classes = useStyles()\n\n  const [isAdminSetting, setIsAdminSetting] = useState(true)\n  const [selectedCtry, setSelectedCtry] = useState('')\n  const [selectedCat, setSelectedCat] = useState('')\n  const [selectedPubl, setSelectedPubl] = useState('')\n  const [isLoading, setIsLoading] = useState(true)\n  const [newsList, setNewsList] = useState([])\n  const [totalResults, setTotalResults] = useState(0)\n  const [curPage, setCurPage] = useState(1)\n  const [curClickedNews, setCurClickedNews] = useState({})\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const [isCtryReady, setIsCtryReady] = useState(false)\n  const [isCatReady, setIsCatReady] = useState(false)\n  const [isPublReady, setIsPublReady] = useState(false)\n\n  const prevSelectedCtry = usePrevious(selectedCtry)\n  const prevSelectedCat = usePrevious(selectedCat)\n  const prevSelectedPubl = usePrevious(selectedPubl)\n  const prevCurPage = usePrevious(curPage)\n\n  // Function for fetching news\n  const getNews = useCallback(\n    async (ctry = null, cat = null, publ = null, pageNum = null) => {\n      // Find out country code\n      const ctryCode = Array.from(news.countries)\n        .filter(country => country.name === ctry)\n        .map(selected => selected.code)\n      // Find out publisher ID\n      const sourceId = Array.from(news.publishers)\n        .filter(publisher => publisher.name === publ)\n        .map(selected => selected.id)\n      // AJAX\n      const res = await axios(\n        `https://newsapi.org/v2/top-headlines?apiKey=${process.env.REACT_APP_NEWS_API_KEY}`,\n        {\n          params: {\n            country: ctryCode,\n            category: cat,\n            sources: sourceId,\n            page: pageNum,\n          },\n        }\n      )\n      if (res.data.articles.length > 0) {\n        if (curPage > 1) {\n          const moreNews = [...newsList].concat(res.data.articles)\n          setNewsList(moreNews)\n        } else {\n          setNewsList(res.data.articles)\n        }\n        setTotalResults(res.data.totalResults)\n      }\n      setIsLoading(false)\n      setIsAdminSetting(false)\n    },\n    [curPage, news.countries, news.publishers, newsList]\n  )\n\n  useEffect(() => {\n    if (isAdminSetting) {\n      // If user open Country and Category page\n      if (readBy === 'Country and Category') {\n        // Wait for <Selector /> options & firestore ready\n        if (isCtryReady && isCatReady && firestore.adminCC.ctry && firestore.adminCC.cat) {\n          setSelectedCtry(firestore.adminCC.ctry)\n          setSelectedCat(firestore.adminCC.cat)\n        }\n        // Fetch news data\n        if (prevSelectedCtry !== selectedCtry && prevSelectedCat !== selectedCat) {\n          getNews(selectedCtry, selectedCat)\n        }\n      }\n      // If users open Publisher page\n      if (readBy === 'Publisher') {\n        // Wait for <Selector /> options & firestore ready\n        if (isPublReady && firestore.adminPubl !== '') {\n          setSelectedPubl(firestore.adminPubl)\n        }\n        // Fetch news data\n        if (prevSelectedPubl !== selectedPubl) {\n          getNews(null, null, selectedPubl)\n        }\n      }\n    }\n  }, [\n    firestore.adminCC.cat,\n    firestore.adminCC.ctry,\n    firestore.adminPubl,\n    getNews,\n    isAdminSetting,\n    isCatReady,\n    isCtryReady,\n    isPublReady,\n    news.countries,\n    news.publishers,\n    newsList,\n    prevSelectedCat,\n    prevSelectedCtry,\n    prevSelectedPubl,\n    readBy,\n    selectedCat,\n    selectedCtry,\n    selectedPubl,\n  ])\n\n  // Infinite Scroll (Pagination)\n  useEffect(() => {\n    const handleScroll = () => {\n      const trigger = document.body.offsetHeight - 5\n      if (window.innerHeight + window.scrollY >= trigger && !isLoading) {\n        if (totalResults > newsList.length) {\n          setCurPage(curPage + 1)\n        } else {\n          // No more page.\n          return 0\n        }\n      }\n      // Arrow function has to return something at the end\n      return 0\n    }\n    window.addEventListener('scroll', handleScroll)\n\n    if (prevCurPage !== curPage) {\n      setIsLoading(true)\n      if (readBy === 'Country and Category') {\n        getNews(selectedCtry, selectedCat, null, curPage)\n      } else if (readBy === 'Publisher') {\n        getNews(null, null, selectedPubl, curPage)\n      }\n    }\n\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [\n    curPage,\n    getNews,\n    isLoading,\n    newsList.length,\n    prevCurPage,\n    readBy,\n    selectedCat,\n    selectedCtry,\n    selectedPubl,\n    totalResults,\n  ])\n\n  // RWD\n  const windowWidth = useWindowWidth()\n  const [colNum, setColNum] = useState(0)\n  useEffect(() => {\n    if (windowWidth < 600) {\n      setColNum(1)\n    } else if (windowWidth < 960) {\n      setColNum(2)\n    } else if (windowWidth < 1280) {\n      setColNum(3)\n    } else if (windowWidth < 1920) {\n      setColNum(4)\n    }\n  }, [windowWidth])\n\n  const changeCtry = value => {\n    if (!isAdminSetting) {\n      setSelectedCtry(value)\n    }\n  }\n\n  const changeCat = value => {\n    if (!isAdminSetting) {\n      setSelectedCat(value)\n    }\n  }\n\n  const changePubl = value => {\n    if (!isAdminSetting) {\n      setSelectedPubl(value)\n    }\n  }\n\n  const userSearch = () => {\n    if (!isAdminSetting) {\n      if ((selectedCat !== '' && selectedCtry !== '') || selectedPubl !== '') {\n        if (\n          prevSelectedCtry !== selectedCtry ||\n          prevSelectedCat !== selectedCat ||\n          prevSelectedPubl !== selectedPubl\n        ) {\n          setIsLoading(true)\n          setNewsList([])\n          setCurPage(1)\n          if (readBy === 'Country and Category') {\n            getNews(selectedCtry, selectedCat)\n          }\n          if (readBy === 'Publisher') {\n            getNews(null, null, selectedPubl)\n          }\n        } else {\n          // Selected Options remaine the same as before, no need to search again.\n          return 0\n        }\n      } else {\n        // Required field is left empty.\n        return 0\n      }\n    }\n    // Arrow function has to return something at the end\n    return 0\n  }\n\n  const openDialog = (title, img, content, time, source, author, url) => {\n    const fully = {\n      title,\n      img,\n      content,\n      time,\n      source,\n      author,\n      url,\n    }\n    setIsDialogOpen(true)\n    setCurClickedNews(fully)\n  }\n\n  const closeDialog = () => {\n    setIsDialogOpen(false)\n  }\n\n  const openArticleUrl = url => {\n    window.open(url, '_blank')\n  }\n\n  // Because I don't want to install short-id here, so I came up with this solution myself.\n  let newsCardKey = 0\n\n  const handleCtryReady = bool => {\n    setIsCtryReady(bool)\n  }\n\n  const handleCatReady = bool => {\n    setIsCatReady(bool)\n  }\n\n  const handlePublReady = bool => {\n    setIsPublReady(bool)\n  }\n\n  return (\n    <div className={classes.newsPaper}>\n      <div className={classes.searchBar}>\n        {readBy === 'Country and Category' && (\n          <>\n            <Selector\n              name=\"Country\"\n              options={news.countries}\n              selected={selectedCtry}\n              changeHandler={changeCtry}\n              hasReady={handleCtryReady}\n            />\n            <Selector\n              name=\"Category\"\n              options={news.categories}\n              selected={selectedCat}\n              changeHandler={changeCat}\n              hasReady={handleCatReady}\n            />\n          </>\n        )}\n        {readBy === 'Publisher' && (\n          <Selector\n            name=\"Publisher\"\n            options={news.publishers}\n            selected={selectedPubl}\n            changeHandler={changePubl}\n            hasReady={handlePublReady}\n          />\n        )}\n        <Button className={classes.searchBtn} variant=\"outlined\" onClick={() => userSearch()}>\n          Search\n        </Button>\n      </div>\n      <Divider className={classes.divider} />\n      {newsList.length > 0 && (\n        <>\n          <Masonry colNum={colNum}>\n            {newsList.map(n => {\n              newsCardKey += 1\n              return (\n                <NewsCard\n                  key={`NewsCard-${newsCardKey}`}\n                  imgUrl={n.urlToImage}\n                  articleUrl={n.url}\n                  newsTitle={n.title}\n                  newsSummary={n.description}\n                  publishedAt={n.publishedAt}\n                  sourceName={n.source.name}\n                  author={n.author}\n                  newsContent={n.content}\n                  openDialog={openDialog}\n                  openArticleUrl={openArticleUrl}\n                />\n              )\n            })}\n          </Masonry>\n          <Dialog open={isDialogOpen} onClose={closeDialog}>\n            <div className={classes.dialogHeader}>\n              <div>\n                <Typography variant=\"subtitle1\">{curClickedNews.title}</Typography>\n                <Typography variant=\"subtitle2\" color=\"primary\">\n                  {curClickedNews.author}\n                </Typography>\n              </div>\n              <IconButton onClick={() => closeDialog()}>\n                <CloseIcon />\n              </IconButton>\n            </div>\n            <DialogContent dividers>\n              <img\n                alt={curClickedNews.img}\n                src={curClickedNews.img}\n                className={classes.dialogImg}\n              />\n              <DialogContentText id=\"dialog-news-desc\">{curClickedNews.content}</DialogContentText>\n            </DialogContent>\n            <DialogActions className={classes.dialogFooter}>\n              <Typography variant=\"caption\" color=\"primary\" component=\"p\">\n                {curClickedNews.time}\n              </Typography>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                onClick={() => openArticleUrl(curClickedNews.url)}\n              >\n                {curClickedNews.source}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </>\n      )}\n      {!isLoading && newsList.length <= 0 && (\n        <Typography variant=\"h5\" color=\"primary\" align=\"center\">\n          No news was found for your search.\n        </Typography>\n      )}\n      {isLoading && <Loader />}\n    </div>\n  )\n}\n\nNewsPaper.propTypes = {\n  readBy: PropTypes.string.isRequired,\n}\n\nexport default NewsPaper\n","import React from 'react'\nimport { makeStyles, Fab } from '@material-ui/core'\nimport ArrowUpward from '@material-ui/icons/ArrowUpward'\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1),\n    textTransform: 'none',\n    position: 'fixed',\n    right: 0,\n    bottom: 8,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n}))\n\nconst ScrollToTop = () => {\n  const classes = useStyles()\n\n  const handleToTop = () => {\n    try {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      })\n    } catch (error) {\n      // Just a fallback for older browsers\n      window.scrollTo(0, 0)\n    }\n  }\n\n  return (\n    <div className={classes.button}>\n      <Fab size=\"small\" aria-label=\"add\" onClick={() => handleToTop()}>\n        <ArrowUpward />\n      </Fab>\n    </div>\n  )\n}\n\nexport default ScrollToTop\n","import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core'\nimport NewsPaper from './NewsPaper'\nimport ScrollToTop from './ScrollToTop'\n\n// Get admin settings from firestore first,\n// then get news data based on that settings.\n// Guests can change settings, but once they leave or refresh\n// settings will reset back to admin's setting.\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexFlow: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: 'auto',\n    padding: theme.spacing(0, 1),\n  },\n  button: {\n    margin: theme.spacing(1),\n    textTransform: 'none',\n    width: 100,\n  },\n}))\n\nconst Home = () => {\n  const classes = useStyles()\n\n  const [readBy, setReadBy] = useState('')\n  const location = useLocation()\n\n  useEffect(() => {\n    if (location.pathname === '/') {\n      setReadBy('Country and Category')\n    } else if (location.pathname === '/publ') {\n      setReadBy('Publisher')\n    }\n  }, [location])\n\n  return (\n    <div className={classes.container}>\n      <NewsPaper readBy={readBy} />\n      <ScrollToTop />\n    </div>\n  )\n}\n\nexport default Home\n","import React, { useContext, useState, useEffect } from 'react'\nimport {\n  makeStyles,\n  Button,\n  ListItem,\n  ListItemText,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n} from '@material-ui/core'\nimport { NewsContext, FirestoreContext } from '../context/context'\nimport useFirebase from '../firebase'\nimport Selector from './Selector'\nimport Loader from './Loader'\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1, 0),\n    flex: '1 1 auto',\n    textTransform: 'none',\n  },\n  controlPanelMsg: {\n    marginTop: theme.spacing(1),\n    textAlign: 'center',\n  },\n  dialogBtn: {\n    textTransform: 'none',\n  },\n}))\n\nfunction ControlPanel() {\n  const classes = useStyles()\n  const controlPanelMsg = 'Current settings is now reflected on the public pages.'\n  const firestore = useContext(FirestoreContext)\n  const news = useContext(NewsContext)\n\n  const [selectedCtry, setSelectedCtry] = useState('')\n  const [selectedPubl, setSelectedPubl] = useState('')\n  const [selectedCat, setSelectedCat] = useState('')\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [saveMsg, setSaveMsg] = useState('')\n  const [saveHasErr, setSaveHasErr] = useState(false)\n\n  useEffect(() => {\n    if (firestore.adminCC.ctry && firestore.adminPubl !== '') {\n      setSelectedCtry(firestore.adminCC.ctry)\n      setSelectedCat(firestore.adminCC.cat)\n      setSelectedPubl(firestore.adminPubl)\n      setIsLoading(false)\n    }\n  }, [firestore.adminCC.cat, firestore.adminCC.ctry, firestore.adminPubl])\n\n  const changeCtry = value => {\n    setSelectedCtry(value)\n  }\n\n  const changeCat = value => {\n    setSelectedCat(value)\n  }\n\n  const chagePubl = value => {\n    setSelectedPubl(value)\n  }\n\n  const closeDialog = () => {\n    setIsDialogOpen(false)\n  }\n\n  const refresh = () => {\n    window.location.href = `${process.env.PUBLIC_URL}/`\n  }\n\n  const saveAdminSettings = () => {\n    if (selectedCat !== '' && selectedCtry !== '' && selectedPubl !== '') {\n      const admin = {\n        category: selectedCat,\n        publisher: selectedPubl,\n        country: selectedCtry,\n      }\n      useFirebase\n        .saveSettings(admin)\n        .then(() => {\n          setSaveMsg(\n            `New settings will be applied to your (and guest's) next visit. (or you can refresh website right now.)`\n          )\n          setSaveHasErr(false)\n          setIsDialogOpen(true)\n        })\n        .catch(err => {\n          setSaveMsg(`There is something wrong, error: ${err}`)\n          setSaveHasErr(true)\n          setIsDialogOpen(true)\n        })\n    } else {\n      // Required field is left empty.\n      return 0\n    }\n    // Arrow function has to return something at the end\n    return 0\n  }\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div>\n          <Selector\n            name=\"Publisher\"\n            options={news.publishers}\n            selected={selectedPubl}\n            changeHandler={chagePubl}\n          />\n          <Selector\n            name=\"Country\"\n            options={news.countries}\n            selected={selectedCtry}\n            changeHandler={changeCtry}\n          />\n          <Selector\n            name=\"Category\"\n            options={news.categories}\n            selected={selectedCat}\n            changeHandler={changeCat}\n          />\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            fullWidth\n            onClick={saveAdminSettings}\n          >\n            Save\n          </Button>\n          <Dialog open={isDialogOpen} onClose={closeDialog}>\n            <DialogTitle id=\"dialog-Admin\">Settings Saved</DialogTitle>\n            <DialogContent dividers>\n              <DialogContentText id=\"dialog-description\">{saveMsg}</DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button className={classes.dialogBtn} color=\"primary\" onClick={closeDialog}>\n                Got it\n              </Button>\n              {!saveHasErr && (\n                <Button className={classes.dialogBtn} color=\"primary\" onClick={refresh}>\n                  Refresh now\n                </Button>\n              )}\n            </DialogActions>\n          </Dialog>\n          <Button\n            className={classes.button}\n            variant=\"outlined\"\n            fullWidth\n            onClick={() => useFirebase.logOut()}\n          >\n            Log Out\n          </Button>\n          <ListItem className={classes.controlPanelMsg}>\n            <ListItemText primary={controlPanelMsg} />\n          </ListItem>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default ControlPanel\n","import React, { useState } from 'react'\nimport { makeStyles, Button, TextField } from '@material-ui/core'\nimport useFirebase from '../firebase'\nimport Loader from './Loader'\n\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    flex: '1 1 auto',\n  },\n  button: {\n    margin: theme.spacing(2, 0),\n    flex: '1 1 auto',\n    textTransform: 'none',\n  },\n  input: {\n    display: 'none',\n  },\n}))\n\nconst Login = () => {\n  const classes = useStyles()\n\n  const [isLoading, setIsLoading] = useState(false)\n  const [email, setEmail] = useState(`${process.env.REACT_APP_ADMIN_ID}`)\n  const [pw, setPw] = useState(`${process.env.REACT_APP_ADMIN_PW}`)\n\n  const login = () => {\n    useFirebase.login(email, pw).catch(err => {\n      throw new Error(err.message)\n    })\n    setIsLoading(true)\n  }\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <form noValidate autoComplete=\"off\">\n          <TextField\n            id=\"outlined-basic\"\n            className={classes.textField}\n            label=\"Email\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            fullWidth\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n          />\n          <TextField\n            id=\"outlined-password-input\"\n            label=\"Password\"\n            className={classes.textField}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            fullWidth\n            value={pw}\n            onChange={e => setPw(e.target.value)}\n          />\n          <Button variant=\"outlined\" className={classes.button} fullWidth onClick={() => login()}>\n            Login\n          </Button>\n        </form>\n      )}\n    </>\n  )\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles, Typography, Avatar } from '@material-ui/core'\nimport useFirebase from '../firebase'\nimport { useFirebaseAuth } from '../customHooks'\nimport ControlPanel from './ControlPanel'\nimport Login from './Login'\nimport adminIcon from '../imgs/avatar-admin.png'\nimport guestIcon from '../imgs/avatar-guest.png'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexFlow: 'column',\n    width: '100%',\n    maxWidth: 300,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: theme.spacing(3),\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(360)]: {\n      padding: theme.spacing(0, 3),\n    },\n  },\n  logo: {\n    margin: 10,\n    width: 60,\n    height: 60,\n    '& img': {\n      maxWidth: '80%',\n      height: 'unset',\n    },\n  },\n  title: {\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nfunction Admin() {\n  const classes = useStyles()\n  const authUser = useFirebaseAuth(useFirebase)\n\n  const [pageTitle, setPageTitle] = useState('')\n  const [avatarImg, setAvatarImg] = useState('')\n\n  useEffect(() => {\n    if (authUser) {\n      setAvatarImg(adminIcon)\n      setPageTitle('Control Panel')\n    } else {\n      setAvatarImg(guestIcon)\n      setPageTitle('Login')\n    }\n  }, [authUser])\n\n  return (\n    <div className={classes.container}>\n      <Avatar alt=\"News\" src={avatarImg} className={classes.logo} />\n      <Typography className={classes.title} variant=\"h6\">\n        {pageTitle}\n      </Typography>\n      {authUser ? <ControlPanel /> : <Login />}\n    </div>\n  )\n}\n\nexport default Admin\n","import React from 'react'\nimport { BrowserRouter as Router, Route, NavLink, Link } from 'react-router-dom'\nimport {\n  CssBaseline,\n  makeStyles,\n  AppBar,\n  Toolbar,\n  ListItem,\n  ListItemText,\n  Typography,\n} from '@material-ui/core'\nimport Home from './Home'\nimport Admin from './Admin'\n\nconst useStyles = makeStyles(theme => ({\n  appbar: {\n    boxShadow: 'unset',\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(1, 3),\n    },\n  },\n  toolbar: {\n    width: '100%',\n    maxWidth: 1320,\n    padding: theme.spacing(0, 2),\n    alignSelf: 'center',\n    [theme.breakpoints.down('md')]: {\n      maxWidth: 994,\n    },\n    [theme.breakpoints.down('sm')]: {\n      flexFlow: 'column',\n      maxWidth: 651,\n      padding: theme.spacing(0, 1),\n    },\n    [theme.breakpoints.down(600)]: {\n      maxWidth: 310,\n    },\n  },\n  pageLabel: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    flex: '1 1 auto',\n    '& a': {\n      marginRight: theme.spacing(2),\n      flex: '0 1 10%',\n    },\n    [theme.breakpoints.down('sm')]: {\n      flexFlow: 'column',\n      alignItems: 'center',\n      width: '100%',\n    },\n  },\n  logoLink: {\n    textDecoration: 'none',\n  },\n  logoBtn: {\n    fontWeight: 'bold',\n    fontFamily: 'Meiryo',\n    fontSize: '20px',\n    color: '#55b4d1',\n    margin: theme.spacing(0, 5, 0, 0),\n    [theme.breakpoints.down('sm')]: {\n      margin: theme.spacing(1, 0),\n    },\n  },\n  navBtn: {\n    textAlign: 'center',\n    whiteSpace: 'nowrap',\n    borderRadius: 3,\n    [theme.breakpoints.down('sm')]: {\n      margin: theme.spacing(0.5, 2),\n    },\n  },\n  navBtnActive: {\n    backgroundColor: theme.palette.action.selected,\n  },\n  loginBtn: {\n    flex: '0 1 120px',\n    margin: theme.spacing(0, 0, 0, 5),\n    backgroundColor: '#C7E191',\n    color: '#fff',\n    '&:hover': {\n      backgroundColor: '#BDD983',\n      borderColor: '#95CC75',\n      boxShadow: 'none',\n    },\n    '&:active': {\n      boxShadow: 'none',\n      backgroundColor: '#A5C365',\n      borderColor: '#95CC75',\n    },\n    [theme.breakpoints.down('sm')]: {\n      margin: theme.spacing(1, 0),\n      flex: '0 1 auto',\n    },\n  },\n}))\n\nconst App = () => {\n  const classes = useStyles()\n\n  return (\n    <>\n      <CssBaseline />\n      <Router basename={process.env.PUBLIC_URL}>\n        <AppBar position=\"static\" color=\"inherit\" className={classes.appbar}>\n          <Toolbar className={classes.toolbar}>\n            <Link to=\"/\" className={classes.logoLink}>\n              <Typography className={`${classes.navBtn} ${classes.logoBtn}`}>\n                Top News Headlines\n              </Typography>\n            </Link>\n            <div className={classes.pageLabel}>\n              <ListItem\n                className={classes.navBtn}\n                button\n                key=\"Country and Category\"\n                component={NavLink}\n                exact\n                to=\"/\"\n                activeClassName={classes.navBtnActive}\n              >\n                <ListItemText primary=\"Country and Category\" />\n              </ListItem>\n              <ListItem\n                className={classes.navBtn}\n                button\n                key=\"Publisher\"\n                component={NavLink}\n                to=\"/publ\"\n                activeClassName={classes.navBtnActive}\n              >\n                <ListItemText primary=\"Publisher\" />\n              </ListItem>\n            </div>\n            <ListItem\n              className={`${classes.navBtn} ${classes.loginBtn}`}\n              button\n              key=\"Login\"\n              component={NavLink}\n              to=\"/admin\"\n            >\n              <ListItemText primary=\"Admin\" />\n            </ListItem>\n          </Toolbar>\n        </AppBar>\n        <Route exact path=\"/\" render={() => <Home />} />\n        <Route path=\"/publ\" render={() => <Home />} />\n        <Route path=\"/admin\" render={() => <Admin />} />\n      </Router>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Provider from './context/Provider'\nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(\n  <Provider>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/avatar-admin.8eb7aa43.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar-guest.c9ea7585.png\";"],"sourceRoot":""}